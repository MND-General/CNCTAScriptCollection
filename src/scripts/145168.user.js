// ==UserScript==
// @name        Maelstrom ADDON Basescanner
// @namespace   http*://prodgame*.alliances.commandandconquer.com/*/index.aspx*
// @description Maelstrom ADDON Basescanner
// @include     http*://prodgame*.alliances.commandandconquer.com/*/index.aspx*
// @version     1.3
// @author      BlinDManX
// @grant       none
// ==/UserScript==
(function(){var L=function(){var J=["__msbs_version","Maelstrom_Basescanner "," loaded Serverversion ","log","debug","Maelstrom_Basescanner initalisiert","FileManager","File","getInstance","Language","MaelstromTools","Cache","Base","getLocale","Manager","locale","indexOf","Languages","Point","Data","Position","BaseScanner Overview","Basescanner Übersicht","Visão geral do scanner de base","Aperçu du scanner de base","Scan","Scannen","Esquadrinhar","Balayer","Location","Lage","localização","Emplacement","Player","Spieler","Jogador","Joueur","Bases","Basen","Camp,Outpost","Lager,Vorposten","Camp,posto avançado","Camp,avant-poste","BaseScanner Layout","Layout da Base de Dados de Scanner","Mise scanner de base","Show Layouts","Layouts anzeigen","Mostrar Layouts","Voir Layouts","Building state","Gebäudezustand","construção do Estado","construction de l\x27État","Defense state","Verteidigungszustand","de Defesa do Estado","défense de l\x27Etat","CP","KP","CP Limit","KP begrenzen","CP limitar","CP limiter","BaseScanner","ui/icons/icon_item.png","createNewImage","Emptypixels","ui/menues/main_menu/misc_empty_pixel.png","L","createNewWindow","BaseScannerLayout","gt","desktopPosition","createDesktopButton","execute","openWindow","BaseScannerGUI","HuffyTools","addListener","addToMainMenu","HuffyTools.BaseScannerGUI","singleton","DefaultObject","ZE","setPadding","Window","set","removeAll","add","close","pavmCombatSetupDefense","PlayerAreaViewMode","EMode_CombatSetupDefense","modes","PlayArea","gui","HuffyTools.BaseScannerGUI.FC: ","ZL","model","table","ui","ID","LoadState","City","Level","Statics","Crystalfields","Tiberiumfields","Def.HP/Off.HP","Sum Tib+Cry+Cre","(Tib+Cry+Cre)/CP","CY","CF","setColumns","ZN","setColumnVisibilityButtonVisible","setColumnWidth","getTableColumnModel","getColumnCount","MS_Basescanner_Column_","get","LocalStorage","setColumnVisible","Crystal","images","headerrenderer","setHeaderCellRenderer","Tiberium","FA","setDataCellRenderer","cellDblclick","HuffyTools.BaseScannerGUI.FI: ","getRow","length",":","split","VisMain","Vis","getApplication","Init","core","closeCityInfo","getBackgroundArea","setView","getPlayArea","HuffyTools.BaseScannerGUI FB error: ","setLabel","ZG","ZH","formatNumbersCompact","Util","HuffyTools.BaseScannerGUI.updateCache: ","setData","HuffyTools.BaseScannerGUI.setWidgetLabels: ","layout","container","ZC","form","setHeight","setMargin","updateCityCache","Cities","MS_Basescanner_LastCityID","get_Id","Object","setSelection","white","basic","ZQ","setWidth","MS_Basescanner_Cplimiter","","ZK","setTextColor","MS_Basescanner_Show0","setValue","MS_Basescanner_Show1","MS_Basescanner_Show2","solid","blue","decoration","ZV","red","ZU","green","ZX","center","ZJ","7 "," 5 ","6 "," 6 ","5 "," 7 ","ZD","Get Layouts","setEnabled","ZB","setLayout","ZR","getColumnName","isColumnVisible","index","changeValue","click","getData","ZO","+","ZI","addAfter","-","remove","right","setAlignX","ZF","HuffyTools.BaseScannerGUI.createOptions: ","get_Cities","MainData","get_CurrentOwnCity","\x3Ciframe src=\x22http://qicki2.bplaced.de/insidebasescanner.php?i=","get_PlayerId","\x26n=","get_PlayerName","\x26v=","\x22 border=\x220\x22 frameborder=\x220\x22 scrolling=\x22no\x22 width=\x22100%\x22 height=\x2280\x22 name=\x22\x22\x3E\x3C/iframe\x3E","ZP","getModel","getSelection","get_PosX","get_PosY","set_CurrentCityId","ZT","prototype","WorldObjectCity","WorldSector","$ctor","ClientLib.Data.WorldSector.WorldObjectCity","getLevel","Error - ClientLib.Data.WorldSector.WorldObjectCity.Level undefined","error","getID","Error - ClientLib.Data.WorldSector.WorldObjectCity.ID undefined","WorldObjectNPCBase","ClientLib.Data.WorldSector.WorldObjectNPCBase","Error - ClientLib.Data.WorldSector.WorldObjectNPCBase.Level undefined","Error - ClientLib.Data.WorldSector.WorldObjectNPCBase.ID undefined","WorldObjectNPCCamp","ClientLib.Data.WorldSector.WorldObjectNPCCamp","Error - ClientLib.Data.WorldSector.WorldObjectNPCCamp.Level undefined","Error - ClientLib.Data.WorldSector.WorldObjectNPCCamp.ID undefined","Pause","window.HuffyTools.BaseScannerGUI.getInstance().FJ()","setTimeout","window.HuffyTools.BaseScannerGUI.getInstance().FG()","/","getValue","Select","get_World","Scanning from: ","get_Name","get_MaxAttackDistance","get_Server","floor","abs","sqrt","Type","push","ZM","sortByColumn","Maelstrom_Basescanner FJ error: ","data null: ","data[i] null: ","get_IsGhostMode","get_CityBuildingsData","get_CityUnitsData","Wrapper","l","get_OffenseUnits","d","get_Buildings","get_DefenseUnits","getResourcesPart","EResourceType","Gold","ResearchPoints","ZA","get_Health","get_MdbUnitId","get_CoordY","HPRecord"," finish","countlastidchecked"," on "," removed (GetBuildingsConditionInPercent == 0)","splice"," removed (IsGhostMode)","lastid"," removed (found no data)","isVisible","MaelstromTools_Basescanner getResources","define","Class","HuffyTools.BaseScannerLayout","BaseScannerLayout.FC: ","ZW","ZZ","ZY","HuffyTools.BaseScannerLayout.FC: ","HuffyTools.BaseScannerLayout.updateCache: ","HuffyTools.BaseScannerLayout.setWidgetLabels: ","ZE null: ","\x3Ctable border=\x222\x22 cellspacing=\x220\x22 cellpadding=\x220\x22\x3E"," - ","\x3Ctr\x3E\x3Ctd colspan=\x229\x22\x3E\x3Cfont color=\x22#FFF\x22\x3E","\x3C/font\x3E\x3C/td\x3E\x3C/tr\x3E","\x3Ctr\x3E","\x3Cimg width=\x2214\x22 height=\x2214\x22 src=\x22","\x22\x3E","\x3Ctd\x3E","\x3C/td\x3E","\x3C/tr\x3E","\x3C/table\x3E","#303030","cid","clickid ","setReturnValue","Count","get_HitpointsPercent","MaelstromTools_Basescanner getResourcesPart","function","replace","match","Error - ","not found","warn","undefined","MaelstromTools_Basescanner_checkIfLoaded: ","domain","test"];var K=0;switch(PerforceChangelist){case 373715:K=1;break;default:K=2;break};window[J[0]]=1.3;console[J[3]](J[1]+window[J[0]]+J[2]+K);function createMaelstromTools_Basescanner(){qx[J[4]]=true;console[J[3]](J[5]);var B=null;var C=null;var D=null;var E=null;var F=0;var G=0;E=ClientLib[J[7]][J[6]].GetInstance();B=window[J[10]][J[9]][J[8]]();C=window[J[10]][J[11]][J[8]]();D=window[J[10]][J[12]][J[8]]();var H=B[J[17]][J[16]](qx[J[15]][J[14]][J[8]]()[J[13]]());if(H>=0){B[J[19]][J[18]]=[J[20],J[20],J[20]][H];B[J[19]][J[21]]=[J[22],J[23],J[24]][H];B[J[19]][J[25]]=[J[26],J[27],J[28]][H];B[J[19]][J[29]]=[J[30],J[31],J[32]][H];B[J[19]][J[33]]=[J[34],J[35],J[36]][H];B[J[19]][J[37]]=[J[38],J[37],J[37]][H];B[J[19]][J[39]]=[J[40],J[41],J[42]][H];B[J[19]][J[43]]=[J[43],J[44],J[45]][H];B[J[19]][J[46]]=[J[47],J[48],J[49]][H];B[J[19]][J[50]]=[J[51],J[52],J[53]][H];B[J[19]][J[54]]=[J[55],J[56],J[57]][H];B[J[19]][J[58]]=[J[59],J[58],J[58]][H];B[J[19]][J[60]]=[J[61],J[62],J[63]][H]};D[J[66]](J[64],J[65],E);D[J[66]](J[67],J[68],E);D[J[70]](J[64],J[69],120,60,850,400);D[J[70]](J[71],J[69],120,460,820,350);var I=D[J[74]](B[J[72]](J[21]),J[64],false,D[J[73]](2));I[J[79]](J[75],function(){window[J[78]][J[77]][J[8]]()[J[76]](J[64],B[J[72]](J[21]))},this);D[J[80]](J[64],I);qx[J[302]][J[301]](J[81],{type:J[82],extend:MaelstromTools[J[83]],members:{ZA:0,ZB:null,ZC:null,ZD:null,ZE:null,ZF:null,ZG:null,ZH:false,ZI:true,ZJ:null,ZK:null,ZL:null,ZM:null,ZN:null,ZO:null,ZP:null,ZQ:null,ZS:null,ZR:[],ZT:true,ZU:null,ZV:null,ZX:null,FC:function(){try{this.FI();this.FH();this.FD();if(this[J[84]]==null){this[J[84]]=[]};this[J[86]][J[85]](0);this[J[86]][J[87]]({resizable:true});this[J[86]][J[88]]();this[J[86]][J[89]](this.ZF);this[J[86]][J[89]](this.ZN);this[J[86]][J[89]](this.ZP);this[J[86]][J[79]](J[90],window[J[78]][J[77]][J[8]]().FN,this);ZS=K>1?ClientLib[J[19]][J[92]][J[91]]:webfrontend[J[96]][J[95]][J[95]][J[94]][J[93]]}catch(e){console[J[3]](J[97],e)}},FI:function(){try{this[J[98]]=new qx[J[101]][J[100]][J[99]].Simple();this[J[98]][J[114]]([J[102],J[103],B[J[72]](J[104]),B[J[72]](J[29]),B[J[72]](J[105]),B[J[72]](MaelstromTools[J[106]].Tiberium),B[J[72]](MaelstromTools[J[106]].Crystal),B[J[72]](MaelstromTools[J[106]].Dollar),B[J[72]](MaelstromTools[J[106]].Research),J[107],J[108],B[J[72]](J[50]),B[J[72]](J[54]),B[J[72]](J[58]),J[109],J[110],J[111],J[112],J[113]]);this[J[115]]=new qx[J[101]][J[100]].Table(this.ZL);this[J[115]][J[116]](false);this[J[115]][J[117]](0,0);this[J[115]][J[117]](1,0);this[J[115]][J[117]](2,120);this[J[115]][J[117]](3,60);this[J[115]][J[117]](4,50);this[J[115]][J[117]](5,60);this[J[115]][J[117]](6,60);this[J[115]][J[117]](7,60);this[J[115]][J[117]](8,60);this[J[115]][J[117]](9,30);this[J[115]][J[117]](10,30);this[J[115]][J[117]](11,50);this[J[115]][J[117]](12,50);this[J[115]][J[117]](13,30);this[J[115]][J[117]](14,60);this[J[115]][J[117]](15,60);this[J[115]][J[117]](16,60);this[J[115]][J[117]](17,50);this[J[115]][J[117]](18,50);var b=0;var c=this[J[115]][J[118]]();for(b=0;b<this[J[98]][J[119]]();b++){if(b==0||b==1||b==11||b==12){c[J[123]](b,MaelstromTools[J[122]][J[121]](J[120]+b,false))}else{c[J[123]](b,MaelstromTools[J[122]][J[121]](J[120]+b,true))}};c[J[123]](1,false);c[J[127]](9,new qx[J[101]][J[100]][J[126]].Icon(D[J[125]][MaelstromTools[J[106]][J[124]]]),J[107]);c[J[127]](10,new qx[J[101]][J[100]][J[126]].Icon(D[J[125]][MaelstromTools[J[106]][J[128]]],J[108]));c[J[130]](5,new HuffyTools.ReplaceRender()[J[87]]({ReplaceFunction:this[J[129]]}));c[J[130]](6,new HuffyTools.ReplaceRender()[J[87]]({ReplaceFunction:this[J[129]]}));c[J[130]](7,new HuffyTools.ReplaceRender()[J[87]]({ReplaceFunction:this[J[129]]}));c[J[130]](8,new HuffyTools.ReplaceRender()[J[87]]({ReplaceFunction:this[J[129]]}));c[J[130]](15,new HuffyTools.ReplaceRender()[J[87]]({ReplaceFunction:this[J[129]]}));c[J[130]](16,new HuffyTools.ReplaceRender()[J[87]]({ReplaceFunction:this[J[129]]}));this[J[115]][J[79]](J[131],function(a){window[J[78]][J[77]][J[8]]().FB(a)},this)}catch(e){console[J[3]](J[132],e)}},FB:function(a){try{var b=this[J[84]][a[J[133]]()][0];var c=this[J[84]][a[J[133]]()][3];if(c!=null&&c[J[136]](J[135])[J[134]]==2){var d=parseInt(c[J[136]](J[135])[0]);var e=parseInt(c[J[136]](J[135])[1]);ClientLib[J[138]][J[137]].GetInstance().CenterGridPosition(d,e)};if(b){var f=qx[J[141]][J[140]][J[139]]();f[J[143]]()[J[142]]();f[J[145]]()[J[144]](ZS,b,0,0)}}catch(ex){console[J[3]](J[146],ex)}},FN:function(a){this[J[148]][J[147]](B[J[72]](J[25]));this[J[149]]=false},CBChanged:function(a){this[J[149]]=false},FA:function(a){return webfrontend[J[96]][J[151]][J[150]](a)},updateCache:function(){try{}catch(e){console[J[3]](J[152],e)}},setWidgetLabels:function(){try{if(!this[J[98]]){this.FC()};this[J[98]][J[153]](this.ZE)}catch(e){console[J[3]](J[154],e)}},FH:function(){try{var c=new qx[J[101]][J[155]].Flow();var d=new qx[J[101]][J[156]].Composite(c);this[J[157]]=new qx[J[101]][J[158]].SelectBox();this[J[157]][J[159]](25);this[J[157]][J[160]](5);C[J[161]]();C=window[J[10]][J[11]][J[8]]();var f;for(f in C[J[162]]){var g=new qx[J[101]][J[158]].ListItem(f,null,C[J[162]][f].Object);this[J[157]][J[89]](g);if(MaelstromTools[J[122]][J[121]](J[163])==C[J[162]][f][J[165]][J[164]]()){this[J[157]][J[166]]([g])}};d[J[89]](this.ZC);var h=new qx[J[101]][J[168]].Label()[J[87]]({value:B[J[72]](J[60]),textColor:J[167],margin:5});d[J[89]](h);this[J[169]]=new qx[J[101]][J[158]].SelectBox();this[J[169]][J[170]](50);this[J[169]][J[159]](25);this[J[169]][J[160]](5);var i=MaelstromTools[J[122]][J[121]](J[171],25);for(h=10;h<46;h+=5){g=new qx[J[101]][J[158]].ListItem(J[172]+h,null,h);this[J[169]][J[89]](g);if(i==h){this[J[169]][J[166]]([g])}};d[J[89]](this.ZQ);this[J[173]]=[];this[J[173]][0]=new qx[J[101]][J[158]].CheckBox(B[J[72]](J[33]));this[J[173]][0][J[160]](5);this[J[173]][0][J[174]](J[167]);this[J[173]][0][J[176]](MaelstromTools[J[122]][J[121]](J[175],false));d[J[89]](this[J[173]][0]);this[J[173]][1]=new qx[J[101]][J[158]].CheckBox(B[J[72]](J[37]));this[J[173]][1][J[160]](5);this[J[173]][1][J[174]](J[167]);this[J[173]][1][J[176]](MaelstromTools[J[122]][J[121]](J[177],false));d[J[89]](this[J[173]][1]);this[J[173]][2]=new qx[J[101]][J[158]].CheckBox(B[J[72]](J[39]));this[J[173]][2][J[160]](5);this[J[173]][2][J[174]](J[167]);this[J[173]][2][J[176]](MaelstromTools[J[122]][J[121]](J[178],true));d[J[89]](this[J[173]][2]);this[J[148]]=new qx[J[101]][J[158]].Button(B[J[72]](J[25]))[J[87]]({width:100,minWidth:100,maxWidth:100,height:25,margin:5});this[J[148]][J[79]](J[75],function(){this.FE()},this);d[J[89]](this.ZG);var j=new qx[J[101]][J[181]].Single(2,J[179],J[180]);this[J[182]]=new qx[J[101]][J[156]].Composite(new qx[J[101]][J[155]].Basic())[J[87]]({decorator:j,backgroundColor:J[183],allowGrowX:false,height:20,width:200});this[J[184]]=new qx[J[101]][J[141]].Widget()[J[87]]({decorator:null,backgroundColor:J[185],width:0});this[J[182]][J[89]](this.ZU);this[J[186]]=new qx[J[101]][J[168]].Label(J[172])[J[87]]({decorator:null,textAlign:J[187],width:200});this[J[182]][J[89]](this.ZX,{left:0,top:-3});d[J[89]](this.ZV,{lineBreak:true});this[J[188]]=new qx[J[101]][J[158]].SelectBox();this[J[188]][J[170]](150);this[J[188]][J[159]](25);this[J[188]][J[160]](5);var g=new qx[J[101]][J[158]].ListItem(J[189]+B[J[72]](MaelstromTools[J[106]].Tiberium)+J[190]+B[J[72]](MaelstromTools[J[106]].Crystal),null,7);this[J[188]][J[89]](g);g=new qx[J[101]][J[158]].ListItem(J[191]+B[J[72]](MaelstromTools[J[106]].Tiberium)+J[192]+B[J[72]](MaelstromTools[J[106]].Crystal),null,6);this[J[188]][J[89]](g);g=new qx[J[101]][J[158]].ListItem(J[193]+B[J[72]](MaelstromTools[J[106]].Tiberium)+J[194]+B[J[72]](MaelstromTools[J[106]].Crystal),null,5);this[J[188]][J[89]](g);d[J[89]](this.ZJ);this[J[195]]=new qx[J[101]][J[158]].Button(B[J[72]](J[196]))[J[87]]({width:120,minWidth:120,maxWidth:120,height:25,margin:5});this[J[195]][J[79]](J[75],function(){var a=window[J[78]][J[71]][J[8]]();if(a[J[86]]!=null){a[J[86]][J[90]]();a.FO()};a[J[76]](J[71],B[J[72]](J[43]))},this);this[J[195]][J[197]](false);d[J[89]](this.ZD);this[J[198]]=new qx[J[101]][J[156]].Composite();this[J[198]][J[199]](new qx[J[101]][J[155]].Flow());this[J[198]][J[170]](750);var k=2;for(k=2;k<this[J[98]][J[119]]();k++){var l=k-2;this[J[200]][l]=new qx[J[101]][J[158]].CheckBox(this[J[98]][J[201]](k));this[J[200]][l][J[176]](this[J[115]][J[118]]()[J[202]](k));this[J[200]][l][J[174]](J[167]);this[J[200]][l][J[203]]=k;this[J[200]][l][J[100]]=this[J[115]];this[J[200]][l][J[79]](J[204],function(a){console[J[3]](J[205],a,a[J[206]](),this[J[203]]);var b=this[J[100]][J[118]]();b[J[123]](this[J[203]],a[J[206]]());MaelstromTools[J[122]][J[87]](J[120]+this[J[203]],a[J[206]]())});this[J[198]][J[89]](this[J[200]][l])};this[J[207]]=new qx[J[101]][J[158]].Button(J[208])[J[87]]({margin:5});this[J[207]][J[79]](J[75],function(){if(this[J[209]]){d[J[210]](this.ZB,this.ZO);this[J[207]][J[147]](J[211])}else{d[J[212]](this.ZB);this[J[207]][J[147]](J[208])};this[J[209]]=!this[J[209]]},this);this[J[207]][J[214]](J[213]);d[J[89]](this.ZO,{lineBreak:true});this[J[215]]=d}catch(e){console[J[3]](J[216],e)}},FD:function(){var a=ClientLib[J[19]][J[218]].GetInstance()[J[217]]();var b=a[J[219]]();var c=J[220]+b[J[221]]()+J[222]+b[J[223]]()+J[224]+window[J[0]]+J[225];var d=new qx[J[101]][J[168]].Label()[J[87]]({value:c,rich:true,width:800});this[J[226]]=d},FE:function(){var a=this[J[157]][J[228]]()[0][J[227]]();ClientLib[J[138]][J[137]].GetInstance().CenterGridPosition(a[J[229]](),a[J[230]]());ClientLib[J[138]][J[137]].GetInstance().Update();ClientLib[J[138]][J[137]].GetInstance().ViewUpdate();ClientLib[J[19]][J[218]].GetInstance()[J[217]]()[J[231]](a[J[164]]());if(this[J[232]]){var b=ClientLib[J[19]][J[235]][J[234]][J[233]];if(K==1){var c=foundfnkstring(b[J[236]],/\=0\){0,1};this\.(.{6})=\({0,2}g>>7\){0,1}\&.*d\+=f;this\.(.{6})=\(/,J[237],2)}else{var c=foundfnkstring(b[J[236]],/this\.(.{6})=\(?\(?g>>8\)?\&.*d\+=f;this\.(.{6})=\(/,J[237],2)};if(c!=null&&c[1][J[134]]==6){b[J[238]]=function(){return this[c[1]]}}else{console[J[240]](J[239])};if(c!=null&&c[2][J[134]]==6){b[J[241]]=function(){return this[c[2]]}}else{console[J[240]](J[242])};b=ClientLib[J[19]][J[235]][J[243]][J[233]];var d=foundfnkstring(b[J[236]],/100\){0,1};this\.(.{6})=Math.floor.*d\+=f;this\.(.{6})=\(/,J[244],2);if(d!=null&&d[1][J[134]]==6){b[J[238]]=function(){return this[d[1]]}}else{console[J[240]](J[245])};if(d!=null&&d[2][J[134]]==6){b[J[241]]=function(){return this[d[2]]}}else{console[J[240]](J[246])};b=ClientLib[J[19]][J[235]][J[247]][J[233]];var e=foundfnkstring(b[J[236]],/100\){0,1};this\.(.{6})=Math.floor.*=-1;\}this\.(.{6})=\(/,J[248],2);if(e!=null&&e[1][J[134]]==6){b[J[238]]=function(){return this[e[1]]}}else{console[J[240]](J[249])};if(e!=null&&e[2][J[134]]==6){b[J[241]]=function(){return this[e[2]]}}else{console[J[240]](J[250])};this[J[232]]=false};if(this[J[84]]==null){this[J[149]]=false;this[J[148]][J[147]](J[251]);this[J[195]][J[197]](false);window[J[253]](J[252],1000);return};var f=0;for(i=0;i<this[J[84]][J[134]];i++){if(this[J[84]][i][1]==-1){f++}};if(!this[J[149]]){this[J[148]][J[147]](J[251]);this[J[195]][J[197]](false);if(f>0){this[J[149]]=true;window[J[253]](J[254],1000);return}else{this[J[149]]=false;window[J[253]](J[252],1000)}}else{this[J[149]]=false;this[J[148]][J[147]](B[J[72]](J[25]))}},FP:function(a,b,c){if(this[J[184]]!=null&&this[J[186]]!=null){this[J[184]][J[170]](parseInt(a/b*c,10));this[J[186]][J[176]](a+J[255]+b)}},FJ:function(){try{this[J[84]]=[];var a=this[J[157]][J[228]]()[0][J[227]]();MaelstromTools[J[122]][J[87]](J[163],a[J[164]]());var b=this[J[169]][J[228]]()[0][J[227]]();MaelstromTools[J[122]][J[87]](J[171],b);var c=this[J[173]][0][J[256]]();var d=this[J[173]][1][J[256]]();var e=this[J[173]][2][J[256]]();console[J[3]](J[257],c,d,e);MaelstromTools[J[122]][J[87]](J[175],c);MaelstromTools[J[122]][J[87]](J[177],d);MaelstromTools[J[122]][J[87]](J[178],e);var f=a[J[229]]();var g=a[J[230]]();var h=0;var i=0;var j=ClientLib[J[19]][J[218]].GetInstance()[J[258]]();console[J[3]](J[259]+a[J[260]]());var k=true;var l=true;var m=true;var n=ClientLib[J[19]][J[218]].GetInstance()[J[262]]()[J[261]]();for(i=g-Math[J[263]](n+1);i<=g+Math[J[263]](n+1);i++){for(h=f-Math[J[263]](n+1);h<=f+Math[J[263]](n+1);h++){var o=Math[J[264]](f-h);var p=Math[J[264]](g-i);var q=Math[J[265]]((o*o)+(p*p));if(q<=n){var r=j.GetObjectFromPosition(h,i);var s={};if(r){if(r[J[266]]==1&&k){};if(r[J[266]]==2&&l){};if(r[J[266]]==3&&m){};var t=a.CalculateAttackCommandPointCostToCoord(h,i);if(t<=b){if(r[J[266]]==1&&c){this[J[84]][J[267]]([r[J[241]](),-1,B[J[72]](J[33]),h+J[135]+i,r[J[238]](),0,0,0,0,0,0,0,0,t,0,0,0])};if(r[J[266]]==2&&d){this[J[84]][J[267]]([r[J[241]](),-1,B[J[72]](J[37]),h+J[135]+i,r[J[238]](),0,0,0,0,0,0,0,0,t,0,0,0])};if(r[J[266]]==3&&e){this[J[84]][J[267]]([r[J[241]](),-1,B[J[72]](J[39]),h+J[135]+i,r[J[238]](),0,0,0,0,0,0,0,0,t,0,0,0])}}}}}};this[J[149]]=true;this[J[268]]={};this.FP(0,this[J[84]][J[134]],200);this[J[98]][J[269]](4,false);window[J[253]](J[254],50)}catch(ex){console[J[3]](J[270],ex)}},FG:function(){try{var a=false;var b=0;var c=10;var d=0;var f=150;while(!a){var g=null;var h=0;var i=0;if(this[J[84]]==null){console[J[3]](J[271]);this[J[149]]=false;break};for(d=0;d<this[J[84]][J[134]];d++){if(this[J[84]][d][1]==-1){break}};if(d==this[J[84]][J[134]]){this[J[149]]=false};if(this[J[84]][d]==null){console[J[3]](J[272]);this[J[149]]=false;this[J[148]][J[147]](B[J[72]](J[25]));this[J[195]][J[197]](true);break};posData=this[J[84]][d][3];if(posData!=null&&posData[J[136]](J[135])[J[134]]==2){posX=parseInt(posData[J[136]](J[135])[0]);posY=parseInt(posData[J[136]](J[135])[1]);i=this[J[84]][d][0];ClientLib[J[19]][J[218]].GetInstance()[J[217]]()[J[231]](i);g=ClientLib[J[19]][J[218]].GetInstance()[J[217]]().GetCity(i);if(g!=null){if(!g[J[273]]()){var j=g[J[274]]();var k=g[J[275]]();if(j!=null){var l=this[J[157]][J[228]]()[0][J[227]]();if(K==1){var m=window[J[10]][J[276]].GetBuildings(j);var n=window[J[10]][J[276]].GetDefenseUnits(k);var o=l[J[275]]()[J[278]]()[J[277]]}else{var m=j[J[280]]()[J[279]];var n=k[J[281]]()[J[279]];var o=l[J[275]]()[J[278]]()[J[279]]};if(m!=null){if(K==1){var p=window[J[10]][J[151]][J[282]](m);var q=window[J[10]][J[151]][J[282]](n)}else{var p=getResourcesPart(m);var q=getResourcesPart(n)};this[J[84]][d][2]=g[J[260]]();this[J[84]][d][5]=p[ClientLib[J[12]][J[283]][J[128]]]+q[ClientLib[J[12]][J[283]][J[128]]];this[J[84]][d][6]=p[ClientLib[J[12]][J[283]][J[124]]]+q[ClientLib[J[12]][J[283]][J[124]]];this[J[84]][d][7]=p[ClientLib[J[12]][J[283]][J[284]]]+q[ClientLib[J[12]][J[283]][J[284]]];this[J[84]][d][8]=p[ClientLib[J[12]][J[283]][J[285]]]+q[ClientLib[J[12]][J[283]][J[285]]];if(g.GetBuildingsConditionInPercent()!=0){this[J[286]]=0;if(this[J[84]][d][5]!=0){var r=0;var s=0;var t=0;var u=0;var v=0;this[J[268]][i]=new Array(9);for(t=0;t<9;t++){this[J[268]][i][t]=new Array(8)};for(u=0;u<9;u++){for(v=0;v<8;v++){switch(g.GetResourceType(u,v)){case 1:this[J[268]][i][u][v]=1;r++;break;case 2:this[J[268]][i][u][v]=2;s++;break;default:break}}};this[J[84]][d][9]=r;this[J[84]][d][10]=s;this[J[84]][d][11]=g.GetBuildingsConditionInPercent();this[J[84]][d][12]=g.GetDefenseConditionInPercent();try{var w=o;var y=0;var z=0;if(K==1){for(var A=0;A<w[J[134]];A++){y+=w[A][J[287]]()}}else{for(var A in w){y+=w[A][J[287]]()}};w=n;if(K==1){for(var A=0;A<w[J[134]];A++){z+=w[A][J[287]]()}}else{for(var A in w){z+=w[A][J[287]]()}};w=m;if(K==1){for(var A=0;A<w[J[134]];A++){var i=w[A][J[288]]();if(i==158||i==131||i==195){this[J[84]][d][18]=8-w[A][J[289]]()};if(i==112||i==151||i==177){this[J[84]][d][17]=8-w[A][J[289]]()}}}else{for(var A in w){var i=w[A][J[288]]();if(i==158||i==131||i==195){this[J[84]][d][18]=8-w[A][J[289]]()};if(i==112||i==151||i==177){this[J[84]][d][17]=8-w[A][J[289]]()}}}}catch(x){console[J[3]](J[290],x)};this[J[84]][d][14]=(z/y);this[J[84]][d][15]=this[J[84]][d][5]+this[J[84]][d][6]+this[J[84]][d][7];this[J[84]][d][16]=this[J[84]][d][15]/this[J[84]][d][13];this[J[84]][d][1]=0;a=true;console[J[3]](g[J[260]](),J[291]);this[J[286]]=0;this[J[292]]=0;this.FP((d+1),this[J[84]][J[134]],200)}}else{if(this[J[286]]>250){console[J[3]](this[J[84]][d][2],J[293],posX,posY,J[294]);this[J[84]][J[295]](d,1);this[J[286]]=0;this[J[292]]=0;break};this[J[286]]++}}}}else{console[J[3]](this[J[84]][d][2],J[293],posX,posY,J[296]);this[J[84]][J[295]](d,1);break}}};b++;if(b>=c){a=true;break}};if(this[J[297]]!=d){this[J[297]]=d;this[J[292]]=0;this[J[286]]=0}else{if(this[J[292]]>16){console[J[3]](this[J[84]][d][2],J[293],posX,posY,J[298]);this[J[84]][J[295]](d,1);this[J[292]]=0}else{if(this[J[292]]>10){f=500}else{if(this[J[292]]>4){f=250}}};this[J[292]]++};if(this[J[149]]&&window[J[78]][J[77]][J[8]]()[J[86]][J[299]]()){window[J[253]](J[254],f)}else{this[J[148]][J[147]](B[J[72]](J[25]));this[J[149]]=false}}catch(e){console[J[3]](J[300],e)}}}});qx[J[302]][J[301]](J[303],{type:J[82],extend:MaelstromTools[J[83]],members:{ZW:null,ZZ:null,ZY:null,ZX:null,FC:function(){try{console[J[3]](J[304]);this[J[305]]=[];this[J[86]][J[85]](0);this[J[86]][J[87]]({resizable:false});this[J[86]][J[88]]();this[J[86]][J[199]](new qx[J[101]][J[155]].Flow()[J[87]]({spacingX:3,spacingY:3}));this[J[306]]=new qx[J[101]][J[156]].Scroll()[J[87]]({width:800,height:350});this[J[307]]=new qx[J[101]][J[156]].Composite();this[J[307]][J[199]](new qx[J[101]][J[155]].Flow()[J[87]]({spacingX:3,spacingY:3}));this[J[86]][J[89]](this.ZZ);this[J[306]][J[89]](this.ZY);this.FO()}catch(e){console[J[3]](J[308],e)}},updateCache:function(){try{}catch(e){console[J[3]](J[309],e)}},setWidgetLabels:function(){try{if(this[J[305]]==null){this.FC()}}catch(e){console[J[3]](J[310],e)}},FO:function(){var c=window[J[78]][J[77]][J[8]]()[J[268]];var d=window[J[78]][J[77]][J[8]]()[J[84]];this[J[186]]=[];var e=window[J[78]][J[77]][J[8]]()[J[188]][J[228]]()[0][J[227]]();var f=null;if(d==null){console[J[3]](J[311]);return};this[J[305]]=[];var g;var h;var i;var j;var k;for(g in c){for(h=0;h<d[J[134]];h++){if(d[h][0]==g){f=d[h]}};if(f==null){continue};if(e>4&&e<8){if(e!=f[10]){continue}}else{continue};posData=f[3];if(posData!=null&&posData[J[136]](J[135])[J[134]]==2){posX=parseInt(posData[J[136]](J[135])[0]);posY=parseInt(posData[J[136]](J[135])[1])};var l=J[312];var m=f[2]+J[313]+f[3];l=l+J[314]+m+J[315];for(j=0;j<8;j++){l=l+J[316];for(i=0;i<9;i++){var n=J[172];var o=c[g][i][j];switch(o==undefined?0:o){case 2:n=J[317]+D[J[125]][MaelstromTools[J[106]][J[128]]]+J[318];break;case 1:n=J[317]+D[J[125]][MaelstromTools[J[106]][J[124]]]+J[318];break;default:n=J[317]+D[J[125]][J[67]]+J[318];break};l=l+J[319]+n+J[320]};l=l+J[321]};l=l+J[322];var p=new qx[J[101]][J[168]].Label()[J[87]]({backgroundColor:J[323],value:l,rich:true});p[J[324]]=g;this[J[186]][J[267]](g);p[J[79]](J[205],function(a){console[J[3]](J[325],this[J[324]]);var b=qx[J[141]][J[140]][J[139]]();b[J[143]]()[J[142]]();b[J[145]]()[J[144]](ZS,this[J[324]],0,0)});p[J[326]]=g;this[J[305]][J[267]](p);this[J[307]][J[88]]();for(k=0;k<this[J[305]][J[134]];k++){this[J[307]][J[89]](this[J[305]][k])}}}}})};function getResourcesPart(a){try{var b=[0,0,0,0,0,0,0,0];if(a==null){return b};for(var c in a){var d=a[c];var f=MaelstromTools[J[276]].GetUnitLevelRequirements(d);for(var g=0;g<f[J[134]];g++){b[f[g][J[266]]]+=f[g][J[327]]*d[J[328]]();if(d[J[328]]()<1.0){}}};return b}catch(e){console[J[3]](J[329],e)}};function objfnkstrON(a){var b;for(b in a){if(typeof(a[b])==J[330]){var c=a[b].toString();console[J[3]](b,c)}}};function foundfnkstring(a,b,c,d){var e=[];var f=a.toString();var g=f[J[331]](/\s/gim,J[172]);e=g[J[332]](b);var h;for(h=1;h<(d+1);h++){if(e!=null&&e[h][J[134]]==6){console[J[3]](c,h,e[h])}else{console[J[240]](J[333],c,h,J[334]);console[J[335]](c,g)}};return e};function MaelstromTools_Basescanner_checkIfLoaded(){try{if(typeof qx!=J[336]&&typeof MaelstromTools!=J[336]){createMaelstromTools_Basescanner()}else{window[J[253]](MaelstromTools_Basescanner_checkIfLoaded,1000)}}catch(e){console[J[3]](J[337],e)}};if(/commandandconquer\.com/i[J[339]](document[J[338]])){window[J[253]](MaelstromTools_Basescanner_checkIfLoaded,10000)}};try{var M=document.createElement("script");M.innerHTML="("+L.toString()+")();";M.type="text/javascript";if(/commandandconquer\.com/i.test(document.domain)){document.getElementsByTagName("head")[0].appendChild(M)}}catch(e){console.log("MaelstromTools_Basescanner: init error: ",e)}})();